---
title: "L3_Cours 1_stat"
author: "Florian Bayer"
output:
  xaringan::moon_reader:
    lib_dir: assets
    chakra: assets/libs/remark-latest.min.js
    css: [
    "./assets/css/theme_flo.css",
    "./assets/css/mtheme.css",
    "./assets/css/fonts_mtheme.css",
    "./assets/css/animate.css",
    "./assets/css/tools.css",
    "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"]
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
    seal: false

---
```{r setup, global_options,include=FALSE}
knitr::opts_chunk$set(
  dpi = 200,
  strip.white = T,
  message = FALSE,
  comment = NA,
  echo = FALSE,
  warning = FALSE,
  eval = TRUE
  
)
```

```{r include=FALSE}
source('./assets/functions.R')

requiredPackages = c('knitr','png','grid','gridExtra',
                     'RColorBrewer','dotenv')

PackageFacile(requiredPackages)

load_dot_env(".env")
annee = Sys.getenv("annee")

```



class: center, middle, inverse, title-slide, animated, fadeIn
# Analyse des données Licence Pro `r annee`
# TD n°2- L'analyse univariée<br /> <br />
### Florian Bayer

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div> 

---
class: animated, fadeIn
## Objectif du TD 2
<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div> 

Les objectifs de ce TD sont de mettre en application les acquis du cours 2 sur l'analyse d'une série de données
- avec des graphiques
- les valeures centrales
- les paramètres de dispersion

Vous apprendrez à utiliser un outil d'analyse de données : Orange

---
class: animated, fadeIn
## Orange : présentation

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div> 

Orange est un logiciel open source dédié à l'analyse de données, à l'exploration visuelle et à l'apprentissage automatique.

Basé sur des packages Python pour les analyses, son interface graphique intuitive permet de construire des **flux de travail** ou workflow, sans avoir à écrire de code.

Contrairement à Excel et comme lorsque l'on utilise du code, l'avantage d'Orange est de pouvoir relancer chaque étape du calcul pour le vérifier ou le modifier.


---
class: animated, fadeIn
## Orange : présentation

La vue principale d'Orange ressemble à une toile vide où vous pouvez commencer à ajouter des **widgets** pour créer un **workflow**. 

A gauche la zone de widgets, à droite l'espace de travail.

.center-img[
```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("./assets/images/TD/TD2_orange_main.png")
```
] 


<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div> 

---
class: animated, fadeIn
## Orange : les widgets

.pull-left[
Les widgets sont des modules préconfigurés qui permettent d'importer, de traiter, d'analyser et de visualiser des données. À gauche de l'écran se trouve une barre d'outils avec les catégories de widgets comme :
- Data : Chargement, transformation, filtrage des données
- Visualize : Graphiques et visualisations
- Model : Apprentissage automatique (classification, régression)
- Evaluate : Validation de modèles
]

.pull-right[
```{r echo=FALSE, out.width="70%"}
knitr::include_graphics("./assets/images/TD/TD2_orange_widgets.png")
```
]

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div> 

---
class: animated, fadeIn
## Orange : chargement des données

.pull-left[
Le chargement des données se fait à travers le widget "File" dans la catégorie "Data". Il vous permet d'importer des fichiers sous différents formats, y compris CSV ou Excel

- Ajoutez le widget "File" : Glissez-déposez le widget *File* depuis la barre d'outils dans l'espace de travail.
- Sélectionnez le fichier : Cliquez sur le widget "File" puis ouvrez **hdi-edu.xlsx**. Vérifiez que vous avez bien la feuille de calcul Data
- Orange détermine seul chaque type de données, mais vous pouvez les modifier manuellement via la colonne **Type**
- Fermez le widget *File*
]

.pull-right[
```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("./assets/images/TD/TD2_orange_data.png")
```
]

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div> 

---
class: animated, fadeIn
## Orange : afficher les données

.pull-left[
- Dans la catégorie Data, sélectionnez et faites glisser le widget Data Table
- A l'aide de la souris, connectez la sortie du widget *File* à l'entrée du widget *Data Table*
- Vous pouvez voir maintenant le contenu des données via le widget *Data Table*
- Comme ils sont liés, tous changements dans le widget *File* entraînera une modification dans le widget *Data Table*
- Vous pouvez sélectionner des lignes dans *Data Table*, mais cela aura aussi un impact sur les futurs calculs. Ils ne se feront que sur les lignes sélectionnées
]

.pull-right[
```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("./assets/images/TD/TD2_orange_datatable.png")
```
]

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div> 

---
class: animated, fadeIn
## Orange : Statistiques univariée

.pull-left[
- Ajoutez le widget *Feature Statistics*, toujours dans la catégorie Data.
- Connectez le à la sortie de *Data Table*
- Un histogramme, des valeurs centrales et des paramètres de dispersion sont disponibles
- Notez que Dispersion correspond au coefficient de variation pour les données quantitatives
- Attention, pensez à vérifier que vous n'avez pas de ligne sélectionnée dans Data Table, sinon les calculs de *Feature Statistics* seront uniquement fait sur votre sélection
- Notez que vous pouvez appliquer une couleur aux histogrammes pour les distinguer à l'aide d'une variable qualitative. Par exemple par continent.
]

.pull-right[
```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("./assets/images/TD/TD2_orange_featurestat.png")
```
Faites l'analyse univariée de la variable **esperance_vie**. Que pouvez-vous en conclure ?
]



<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div>

---
class: animated, fadeIn
## Orange : Histogramme

.pull-left[
- A partir de la catégorie Visualize, ajoutez le widget *Distributions*.
- Connectez le à la sortie de *Data Table*
- Les données qualitatives (Category) sont représentées par un diagramme en bâton
- Les données quantitatives par un histogramme
- Pour ce dernier, vous pouvez modifier le nombre de *bins*

Comme précédemment, vous pouvez appliquer une catégorie pour découper l'histogramme selon les modalités de cette dernière. Pour la variable **esperance_vie**, faites un split par **transition_epi**. Que pouvez-vous en conclure ? N'oubliez pas de consulter les métadonnées (onglet Meta du fichier Excel) pour plus de détails
]

.pull-right[
```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("./assets/images/TD/TD2_orange_histo.png")
```
]

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div>

---
class: animated, fadeIn
## Orange : Box Plot

.pull-left[
- Ajoutez maintenant un Box Plot.
- Connectez le à la sortie de *Data Table*

Analysez la distribution de **taux_fertilite**, puis faites un sous-groupe avec transition_demo. 

Que pouvez-vous en conclure ? 

**Pensez à sauvegarder votre projet Orange, nous le réutiliserons pour le TD4**
]

.pull-right[
```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("./assets/images/TD/TD2_orange_boxplot.png")
```
]

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div>

---
class: animated, fadeIn
## Orange : Analyse comparative

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div>

**Consignes :**

1. **Formez des binômes**
2. **Analysez la variable `esperance_vie`** avec Feature Statistics et Box Plot

**Étape 1 - Vue d'ensemble**  :
- Analysez les **moyennes** et **écart-types** pour chaque continent (split)
- Utilisez le **Box Plot** avec split par **Continent** pour comparer l'Afrique aux autres continents
- Que révèle ces analyses ?

**Étape 2 - Analyse par pays africains**  :
- Maintenant et l'aide d'un nouveau flux, faites l'analyse pour les pays africains
- Identifiez les pays avec les `esperance_vie` extrêmes (outliers + min/max)
- Choisissez 2 pays opposés pour votre analyse. 

---
class: animated, fadeIn
## Comprendre les outliers africains

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div>

À partir de votre analyse des pays africains, vous devez expliquer pourquoi certains pays ont des espérances de vie si différentes.

**Étape 3 - Identifier les cas extrêmes** :
- **Pays avec la plus haute espérance de vie** : _______________
- **Pays avec la plus basse espérance de vie** : _______________
- **Outliers détectés** (si il y en a) : _______________

**Étape 4 - Formuler des hypothèses** :
Avant de regarder les données, quelles pourraient être les raisons de ces différences ?
- 1 _______________________________________________
- 2 _______________________________________________
- 3 _______________________________________________

**Étape 3 - Tester vos hypothèses** :

Explorez les autres variables (économiques, sociales, sanitaires) pour vos pays extrêmes. Utilisez l'onglet **Meta** pour comprendre les indicateurs.

---
class: animated, fadeIn
## Restitution collective

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div>

**Tour de table** : Chaque binôme présente en 1 minute :
- Leurs pays extrêmes choisis et leurs hypothèses principales
- Une découverte surprenante dans les données

**Questions de débriefing** :
- Quelles variables explicatives reviennent le plus souvent ?
- Y a-t-il des pays difficiles à expliquer avec vos hypothèses ?
- Vos hypothèses initiales étaient-elles confirmées ou infirmées ?

**Synthèse pédagogique** :
- **Dispersion** : L'écart-type révèle des sous-groupes de pays avec des profils similaires
- **Corrélation ≠ causalité** : Vous avez identifié des associations, mais attention aux explications simplistes
- **Contextualisation** : Les chiffres racontent des histoires humaines et géographiques
- **Démarche scientifique** : Hypothèse → Test → Interprétation critique
- **Préparation bivariée** : Vous avez intuitivement cherché des corrélations, nous allons maintenant les mesurer !

---
class: animated, fadeIn
## Dans ce TD, vous avez appris à

.pull-left[
**Compétences techniques :**
- Charger et manipuler des données dans Orange
- Calculer et interpréter les mesures de tendance centrale (moyenne, médiane)
- Calculer et interpréter les mesures de dispersion (écart-type, coefficient de variation)
- Créer et analyser différents types de graphiques (histogrammes, box plots)
- Comparer des distributions entre groupes (continents)
]

.pull-right[
**Compétences analytiques :**
- Formuler des hypothèses avant l'analyse des données
- Identifier et expliquer les valeurs aberrantes (outliers)
- Comprendre qu'une moyenne cache des disparités (importance de l'écart-type)
- Contextualiser les résultats statistiques avec des connaissances géographiques
- Passer de l'observation à l'explication causale
]

Cette démarche d'investigation vous a préparés à l'analyse bivariée : vous avez commencé à chercher des liens entre variables (espérance de vie ↔ revenus, éducation, santé...). Dans les prochains cours, nous formaliserons ces intuitions avec les techniques de corrélation et la cartographie statistique.

<div class="my-footer"><span>ENSG - Licence Pro `r annee` : analyse de données - Florian Bayer</span></div>


